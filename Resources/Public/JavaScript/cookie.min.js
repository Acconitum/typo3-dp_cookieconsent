/*!
  * Cookie Consent Adapter
  * Copyright 2018 Dirk Persky (https://github.com/DirkPersky/typo3-dp_cookieconsent)
  * Licensed under GPL v3+ (https://github.com/DirkPersky/typo3-dp_cookieconsent/blob/master/LICENSE)
  */
window.addEventListener("load",function(){function e(){}e.prototype.asyncLoad=function(e,o,t){var n=document,i=n.createElement(o),s=n.getElementsByTagName(o)[0];switch(o){case"script":i.src=e,i.setAttribute("defer","");break;case"link":i.rel="stylesheet",i.type="text/css",i.setAttribute("defer",""),i.href=e}t&&i.addEventListener("load",function(e){t(null,e)},!1),s.parentNode.insertBefore(i,s)},e.prototype.asyncJS=function(e,o){this.asyncLoad(e,"script",o)},e.prototype.asyncCSS=function(e){this.asyncLoad(e,"link")},e.prototype.loadCookies=function(){var e=[];if(void 0===document.querySelectorAll)e=document.querySelectorAll("script[data-cookieconsent]");else{var o=document.getElementsByTagName("script");for(var t in o){void 0!==(n=o[t]).getAttribute&&n.getAttribute("data-cookieconsent")&&e.push(n)}o=null}if(e.length>0)for(var t in e){var n,i=e[t].innerHTML;if(i&&i.length&&(i=i.trim()),i&&i.length)eval.call(this,i);else(n=e[t]).getAttribute("data-src")?this.asyncJS(n.getAttribute("data-src")):n.src&&this.asyncJS(n.src)}},e.prototype.load=function(){this.asyncCSS(window.cookieconsent_options.css),"dpextend"==window.cookieconsent_options.layout&&this.asyncCSS(window.cookieconsent_options.dpCSS),this.asyncJS(window.cookieconsent_options.js,this.init)},e.prototype.setClass=function(e){!0===e?document.querySelector("body").classList.remove("dp--cookie-consent"):document.querySelector("body").classList.add("dp--cookie-consent")},e.prototype.init=function(){(new e).setClass(),window.cookieconsent.initialise({content:window.cookieconsent_options.content,theme:window.cookieconsent_options.theme,position:window.cookieconsent_options.position,palette:window.cookieconsent_options.palette,dismissOnScroll:window.cookieconsent_options.dismissOnScroll,type:window.cookieconsent_options.type,layout:window.cookieconsent_options.layout,layouts:{dpextend:"{{dpmessagelink}}{{compliance}}"},elements:{dpmessagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a><div class="dp--cookie-check"><label for="dp--cookie-require"><input type="checkbox" id="dp--cookie-require" class="dp--check-box" disabled="disabled" checked="checked"> {{dpRequire}}</label><label for="dp--cookie-require"><input type="checkbox" id="dp--cookie-statistics" class="dp--check-box" checked="checked"> {{dpStatistik}}</label><label for="dp--cookie-require"><input type="checkbox" id="dp--cookie-marketing" class="dp--check-box" > {{dpMarketing}}</label></div></span>'},onInitialise:function(o){!this.hasConsented()||"dismiss"!=o&&"allow"!=o||(new e).loadCookies(),(new e).setClass(!0)},onStatusChange:function(o){!this.hasConsented()||"dismiss"!=o&&"allow"!=o||(new e).loadCookies(),"info"==window.cookieconsent_options.type&&this.element.parentNode.removeChild(this.element),(new e).setClass(!0)},onRevokeChoice:function(){(new e).setClass()}})},(new e).load()});
