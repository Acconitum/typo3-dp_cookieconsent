/*!
  * Cookie Consent Adapter
  * Copyright 2018 Dirk Persky (https://github.com/DirkPersky/typo3-dp_cookieconsent)
  * Licensed under GPL v3+ (https://github.com/DirkPersky/typo3-dp_cookieconsent/blob/master/LICENSE)
  */
window.addEventListener("load",function(){function e(){}e.prototype.asyncLoad=function(e,t,o){var n=document,s=n.createElement(t),i=n.getElementsByTagName(t)[0];switch(t){case"script":s.src=e,s.setAttribute("defer","");break;case"link":s.rel="stylesheet",s.type="text/css",s.setAttribute("defer",""),s.href=e}o&&s.addEventListener("load",function(e){o(null,e)},!1),i.parentNode.insertBefore(s,i)},e.prototype.asyncJS=function(e,t){this.asyncLoad(e,"script",t)},e.prototype.asyncCSS=function(e){this.asyncLoad(e,"link")},e.prototype.loadCookies=function(){var e=[];if(void 0===document.querySelectorAll)e=document.querySelectorAll("script[data-cookieconsent]");else{var t=document.getElementsByTagName("script");for(var o in t){void 0!==(n=t[o]).getAttribute&&n.getAttribute("data-cookieconsent")&&e.push(n)}t=null}if(e.length>0)for(var o in e){var n,s=e[o].innerHTML;if(s&&s.length&&(s=s.trim()),s&&s.length)eval.call(this,s);else(n=e[o]).getAttribute("data-src")?this.asyncJS(n.getAttribute("data-src")):n.src&&this.asyncJS(n.src)}},e.prototype.load=function(){this.asyncCSS(window.cookieconsent_options.css),this.asyncJS(window.cookieconsent_options.js,this.init)},e.prototype.setClass=function(e){!0===e?document.querySelector("body").classList.remove("dp--cookie-consent"):document.querySelector("body").classList.add("dp--cookie-consent")},e.prototype.init=function(){(new e).setClass(),window.cookieconsent.initialise({content:window.cookieconsent_options.content,theme:window.cookieconsent_options.theme,position:window.cookieconsent_options.position,palette:window.cookieconsent_options.palette,dismissOnScroll:window.cookieconsent_options.dismissOnScroll,type:window.cookieconsent_options.type,onInitialise:function(t){!this.hasConsented()||"dismiss"!=t&&"allow"!=t||(new e).loadCookies(),(new e).setClass(!0)},onStatusChange:function(t){!this.hasConsented()||"dismiss"!=t&&"allow"!=t||(new e).loadCookies(),"info"==window.cookieconsent_options.type&&this.element.parentNode.removeChild(this.element),(new e).setClass(!0)},onRevokeChoice:function(){(new e).setClass()}})},(new e).load()});